# ====================================
# Application Configuration
# ====================================

# Application Settings
NODE_ENV=development
PORT=3001
LOG_LEVEL=info

# ====================================
# JWT Authentication
# ====================================
JWT_ISSUER=OptimaCore
JWT_AUDIENCE=optima-client
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# ====================================
# Azure Services
# ====================================

# Azure Key Vault
AZURE_KEY_VAULT_URI=https://your-keyvault-name.vault.azure.net/

# Azure Cosmos DB
COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
COSMOS_KEY=your-primary-key
COSMOS_DATABASE=optimacore

# Azure Blob Storage
BLOB_CONNECTION_STRING=your-blob-connection-string
BLOB_CONTAINER=default

# Azure Web PubSub
WEBPUBSUB_CONNECTION_STRING=your-webpubsub-connection-string
WEBPUBSUB_HUB=default

# ====================================
# Database Configuration
# ====================================

# PostgreSQL
POSTGRES_CONNECTION_STRING=postgresql://user:password@localhost:5432/optimacore

# Redis
REDIS_CONNECTION_STRING=redis://localhost:6379

# ====================================
# Security
# ====================================

# Session Configuration
SESSION_SECRET=your-session-secret
SESSION_COOKIE_NAME=optimacore.sid
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ====================================
# Local Development
# ====================================

# Local Key Paths (fallback if Key Vault is not available)
JWT_PRIVATE_KEY_PATH=./secrets/private.key
JWT_PUBLIC_KEY_PATH=./secrets/public.key

# ====================================
# Feature Flags
# ====================================
ENABLE_ANALYTICS=false
ENABLE_CACHING=true
ENABLE_LOGGING=true

# ====================================
# External Services
# ====================================

# Application Insights
APP_INSIGHTS_CONNECTION_STRING=your-app-insights-connection-string

# Sentry
SENTRY_DSN=your-sentry-dsn

# ====================================
# Rate Limiting
# ====================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX=100  # Max requests per window per IP

# ====================================
# Azure Cost Management & Budgets
# ====================================

# Budget Compliance Policy
BUDGET_ALERT_EMAILS=admin@example.com,billing@example.com
BUDGET_ALERT_ROLES=Owner,Contributor
DEFAULT_BUDGET_AMOUNT=1000
DEFAULT_BUDGET_TIME_GRAIN=Monthly
DEFAULT_BUDGET_THRESHOLDS=50,80,100

# Cost Alert Webhook
COST_ALERT_WEBHOOK_URL=https://your-webhook-url.example.com/cost-alerts

# Non-production Environment Tags
NON_PROD_ENV_TAGS=dev,test,staging,non-prod,sandbox
NON_PROD_SHUTDOWN_TAGS=true,yes

# Allowed VM SKUs (comma-separated)
ALLOWED_VM_SERIES=Standard_B,Standard_D,Standard_DS
MAX_VM_CORES=8
MAX_VM_MEMORY_GB=32

# Allowed SQL Database Tiers (comma-separated)
ALLOWED_SQL_TIERS=Basic,Standard,GeneralPurpose,BusinessCritical

# Allowed Azure Regions (comma-separated)
ALLOWED_AZURE_REGIONS=eastus,westus2,centralus
